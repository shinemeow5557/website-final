<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>咖啡訂單介面</title>
    <link rel="stylesheet" href="css/style.css">

</head>
<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
<body>
  <nav class="navbar">
    <div class="aa">
      <div>
        <span class="fw-bold">紓咖</span>
      </div>
      <div>
        <a href="#"><img src="image/search.png" alt="search" class="icons mx-2"></a>
        <a href="cart.html"><img src="image/cart.png" alt="cart" class="icons mx-2"></a>
        <a href="#"><img src="image/member.png" alt="member" class="icons mx-2"></a>
      </div>
    </div>
  </nav>

    

    <main class="container">
        
        <section class="product">
            <div class="product-image-container">
                <img src="image/coffee.png" alt="咖啡" class="product-image">
                <h1>咖啡拿鐵</h1>
                <p class="price">NT$60</p>
            </div>
            <!-- 選項 -->
            <div class="product-details">
                <div class="options">
                    <p>選擇甜度</p>
                    <div class="sweetness">
                        <button data-group="sweetness">半糖</button>
                        <button data-group="sweetness">微糖</button>
                        <button data-group="sweetness">無糖</button>
                    </div>
                    <p>選擇冰塊</p>
                    <div class="ice">
                        <button data-group="ice">冰的</button>
                        <button data-group="ice">少冰</button>
                        <button data-group="ice">去冰</button>
                        <button data-group="ice">溫的</button>
                        <button data-group="ice">熱的</button>
                    </div>
                </div>
                <div class="quantity">
                    <button>-</button>
                    <input type="number" value="1" min="1">
                    <button>+</button>
                </div>
                <div class="button-container">
                  <button class="add-to-cart">加入購物車</button>
                  <button class="buy-now">直接結帳</button>
                </div>
            </div>
        </section>
        <!-- 評分 -->
        <section class="reviews">
          <div class="reviews-container">
            <!-- 左側: 商品評分 -->
            <div class="rating-section">
              <h2>商品評分</h2>
              <div class="star" id="star-rating1">
                <!-- 找到所有的icon，並設立一個data-index，用來判斷點擊的是哪一個星星 -->
                <iconify-icon icon="material-symbols:star-outline" width="40" data-index="1" class="star-icon"></iconify-icon>
                <iconify-icon icon="material-symbols:star-outline" class="star-icon" data-index="2" width="40"></iconify-icon>
                <iconify-icon icon="material-symbols:star-outline" class="star-icon" data-index="3" width="40"></iconify-icon>
                <iconify-icon icon="material-symbols:star-outline" class="star-icon" data-index="4" width="40"></iconify-icon>
                <iconify-icon icon="material-symbols:star-outline" class="star-icon" data-index="5" width="40"></iconify-icon>
              </div>
             <textarea placeholder="留下評論..."></textarea>
              <button>送出</button>
            </div>
        
            <!-- 右側: 商品評論 -->
            <div class="comments-section">
              <h2>商品評論</h2>
              <div class="comment">
                <h3>小志</h3>
                <span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span>
                <h4>好喝啦</h4>
              </div>
              <div class="comment">
                <h3>小浩</h3>
                <span>⭐</span>
                <h4>沒有實體志浩差評</h4>
              </div>
              <div class="comment">
                <h3>小浩</h3>
                <span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span>
                <h4>還會再來</h4>
              </div>
            </div>
          </div>
        </section>

          

        </section>
        <section class="related-products">
            <h2>推薦相關商品</h2>
            <div class="product-grid">
                <!-- 商品 A -->
                <div class="card">
                    <img src="image/coffee.png" alt="商品 A" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">志式咖啡</h5>
                        <p class="card-text">NT$40</p>
                        <div class="rating">
                            <span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span>
                        </div>
                        <div class="favorite">
                            <i class="bi bi-heart-fill"></i>
                        </div>
                    </div>
                </div>
                <!-- 商品 B -->
                <div class="card">
                    <img src="image/coffee.png" alt="商品 B" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">志式咖啡</h5>
                        <p class="card-text">NT$40</p>
                        <div class="rating">
                            <span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span>
                        </div>
                        <div class="favorite">
                            <i class="bi bi-heart-fill"></i>
                        </div>
                    </div>
                </div>
                <!-- 商品 C -->
                <div class="card">
                    <img src="image/coffee.png" alt="志式咖啡" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">志式咖啡</h5>
                        <p class="card-text">NT$40</p>
                        <div class="rating">
                            <span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span><span>⭐</span>
                        </div>
                        <div class="favorite">
                            <i class="bi bi-heart-fill"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
          // 找到所有最外層的div
          const starRatings = document.querySelectorAll(".star");
    
          // 對每個星星評分區域設定事件
          starRatings.forEach((starRating) => {
            // 找到該評分區域內所有的icon
            const starIcons = starRating.querySelectorAll(".star-icon");
    
            // 將所有的icon加上click事件
            starIcons.forEach((starIcon) => {
              starIcon.addEventListener("click", function () {
                // 找到點擊的icon的data-index 並轉成數字
                const clickedIndex = parseInt(this.getAttribute("data-index"));
    
                // starsIcons是一個陣列，所以可以用forEach來判斷 跑迴圈 全部都跑一遍
                starIcons.forEach((icon, index) => {
                  // 如果index小於點擊的index，就加上selected的class，並且改變icon
                  if (index < clickedIndex) {
                    icon.setAttribute("icon", "material-symbols:star");
                  }
                  // 如果index小於點擊的index，就加上selected的class，並且改變icon 變成空心
                  else {
                    icon.setAttribute("icon", "material-symbols:star-outline");
                  }
                });
    
                // 在這裏你可以將 clickedIndex 送到後端，並更新資料庫
                console.log("Selected Rating: " + clickedIndex);
              });
            });
          });
        });
      </script>

    <script src="js/script.js"></script>
</body>

</html>